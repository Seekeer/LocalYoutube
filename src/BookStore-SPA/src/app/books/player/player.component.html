<dialog id="favDialog">
  <div>Вы уверены, что хотите удалить фильм?</div>
  <div class="mt-2" style="text-align: center">
    <button class="btn btn-outline-warning" (click)="deleteFilm(false)">
      Нет
    </button>
    <button class="btn btn-outline-danger ml-5" (click)="deleteFilm(true)">
      Да
    </button>
  </div>
</dialog>

<div>
  <div>
    <img
      *ngIf="!videoURL"
      class="bg"
      alt="Finish!"
      src="./assets/img/finish.jpg"
    />

    <!-- 
    <button class="btn btn-outline-danger btn-lg" *ngIf="parameters.showDeleteButton"        (click)="showDeleteModal()">
      Удалить последнее видео?
    </button> -->
  </div>
  <div *ngIf="videoURL" class="video-container">
    <video
      *ngIf="isMobile"
      controls
      height="auto"
      autoplay
      class="player__video viewer"
      (dblclick)="doubleClickHandler($event)"
      controlsList="nofullscreen"
      (click)="startPlay()"
      #videoElement
      id="player"
      (ended)="videoEnded()"
    >
      <source src="{{ videoURL }}" type="video/mp4" />
    </video>

    <video
      *ngIf="!isMobile"
      controls
      height="auto"
      autoplay
      class="player__video viewer"
      #videoElement
      id="player"
      (ended)="videoEnded()"
    >
      <source src="{{ videoURL }}" type="video/mp4" />
    </video>

    <div class="video-rewind-notify rewind notification">
      <div class="rewind-icon icon">
        <i class="left-triangle triangle">◀◀◀</i>
        <span class="rewind">10 seconds</span>
      </div>
    </div>
    <div class="video-forward-notify forward notification">
      <div class="forward-icon icon">
        <i class="right-triangle triangle">▶▶▶</i>
        <span class="forward">10 seconds</span>
      </div>
    </div>

    <div class="ml-2">
      <!-- <button mat-icon-button color="primary"   data-toggle="tooltip" data-placement="top" title="Следующее видео" >
        <mat-icon  (click)="skipVideo()">navigate_next</mat-icon>
      </button> -->

      <button class="btn btn-outline-danger btn-sm" (click)="skipVideo()">
        Следующее видео
      </button>

      <a [href]="vlcPlayURL | safe">
        <button class="btn btn-outline-warning btn-sm ml-2">
          Открыть фильм в VLC
        </button>
      </a>

      <!-- <button (click)="download()">Скачать</button> -->
      <button
        mat-icon-button
        color="primary"
        data-toggle="tooltip"
        data-placement="top"
        title="Скопировать ссылку"
      >
        <mat-icon (click)="copyLink()">file_copy</mat-icon>
      </button>

      <button
        mat-icon-button
        color="warn"
        *ngIf="parameters.showDeleteButton"
        (click)="showDeleteModal()"
      >
        <mat-icon>delete</mat-icon>
      </button>

      <button mat-icon-button color="accent" (click)="rewindVideo()">
        <mat-icon>fast_rewind</mat-icon>
      </button>

      <button mat-icon-button color="accent" (click)="startPlay()">
        <mat-icon>pause</mat-icon>
      </button>

      <button mat-icon-button color="accent" (click)="forwardVideo()">
        <mat-icon>fast_forward</mat-icon>
      </button>

      <button mat-icon-button color="accent" (click)="switchToFullscreen()">
        <mat-icon>fullscreen</mat-icon>
      </button>

      <a href="#">
        <button mat-icon-button>
          <mat-icon>home</mat-icon>
        </button>
      </a>

      <app-markslist #markslist [videoId]="videoId"></app-markslist>

      <!-- <button type="button" class="btn btn-danger"         data-target="#deleteModal" data-toggle="modal">Delete Item</button> -->

      <h2>{{ name }}</h2>
      <div>{{ statStr }}</div>
      <div></div>

      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Выключить через (минут)</mat-label>
        <input
          matInput
          type="number"
          [(ngModel)]="timerMinutes"
          (keyup.enter)="setTimer()"
        />
      </mat-form-field>

      <button mat-icon-button color="primary" (click)="setTimer()">
        <mat-icon>alarm_on</mat-icon>
      </button>

      <div *ngIf="timeLeft">
        Осталось до остановки: {{ timeLeft * 1000 | date : "mm:ss" }}
      </div>

    </div>
  </div>
</div>

<!-- https://openbase.com/js/@vime/angular
https://openbase.com/js/@videogular/ngx-videogular
https://openbase.com/js/videogular2
https://pepe19000.github.io/Demo/menu/NgxVideoListPlayer -->
<!-- https://codepen.io/2fdevs/pen/bGPqxv
https://www.positronx.io/angular-video-player-using-ngx-videogular-with-customized-controls-example/ -->
