<div class="col-md-12">

    <ngx-spinner type="ball-scale-multiple"></ngx-spinner>
  
    <div>
      
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Название</mat-label>
        <input matInput  [(ngModel)]="searchTitle" (ngModelChange)="search()">
      </mat-form-field>
  
      <mat-form-field appearance="fill"  *ngIf="isSelectSeries" >
        <mat-label>Сериал</mat-label>
        <mat-select [(ngModel)]="serieId" (ngModelChange)="search()">
          <mat-option *ngFor="let data of series" value="{{data.id}}">
            {{data.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
  
      <mat-form-field appearance="fill"  *ngIf="isSelectSeries" >
        <mat-label>Сезон</mat-label>
        <mat-select [(ngModel)]="seasonId" (ngModelChange)="search()">
          <mat-option *ngFor="let data of seasons" value="{{data.id}}">
            {{data.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>

    </div>

    <div *ngIf="selectedFile">{{selectedFile.name}}</div>
    <audio  controls height="auto" autoplay  #audioElement (ended)="videoEnded()" src="{{audioURL}}"></audio>

    <button (click)="videoEnded()">Следующее</button>
    <button (click)="continue()">Продолжить</button>
    
    <ul class="list-group list-group-light">
      <li class="list-group-item d-flex justify-content-between align-items-center" (click)="selectAudio(file)"
        [ngClass]="{'greenBackground' : file.id==selectedFile.id}"
        *ngFor="let file of filteredFiles">
        {{file.name}}
        <span class="badge badge-primary rounded-pill">{{file.durationMinutes}}</span>
      </li>
    </ul>

</div>  